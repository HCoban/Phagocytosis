{"version":3,"sources":["webpack:///webpack/bootstrap 94ef51200e7b6793fd9a","webpack:///./lib/phagocytosis.js","webpack:///./lib/game.js","webpack:///./lib/util.js","webpack:///./lib/other_cell.js","webpack:///./lib/cell.js","webpack:///./lib/play_cell.js","webpack:///./lib/game_view.js"],"names":["document","addEventListener","canvasEl","getElementById","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Game","otherCells","players","addOtherCells","object","push","i","NUM_CELLS","add","playCell","pos","randomPosition","allObjects","concat","length","j","obj1","obj2","isCollideWith","collision","collideWith","clearRect","fillStyle","BG_COLOR","fillRect","forEach","draw","delta","move","splice","indexOf","moveObjects","checkCollisions","Math","random","Util","scale","vec","l","velocity","radius","min","org","disX","disY","degree","atan","PI","sin","cos","distance","pos1","pos2","pow","OtherCell","options","floor","vel","timeDelta","nearest","first","second","offsetX","offsetY","isOutOfBounds","Cell","color","randomColor","otherObject","remove","neighbor","beginPath","arc","fill","constructor","name","fillText","centerDistance","hex","PlayCell","maxL","impulse","newPos","console","log","sibling","GameView","addPlayCell","time","prev","step","requestAnimationFrame","animate","bind","bindKeyHandlers","Object","keys","MOVES","k","key","power","divide"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 94ef51200e7b6793fd9a\n **/","import Game from './game';\nimport GameView from './game_view';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById(\"canvas\");\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/phagocytosis.js\n **/","import Util from './util';\nimport OtherCell from './other_cell';\nimport PlayCell from './play_cell';\nimport Cell from './cell';\n\nclass Game {\n  constructor() {\n    this.otherCells = [];\n    this.players = [];\n\n    this.addOtherCells();\n  }\n\n  add(object) {\n    if (object instanceof OtherCell) {\n      this.otherCells.push(object);\n    } else if (object instanceof PlayCell) {\n      this.players.push(object);\n    } else {\n      //add exception\n    }\n  }\n\n  addOtherCells () {\n    for (var i = 0; i < Game.NUM_CELLS; i++) {\n      this.add(new OtherCell ({ game: this}));\n    }\n  }\n\n  addPlayCell () {\n    const playCell = new PlayCell({\n      pos: this.randomPosition(), //consider centering\n      game: this\n    });\n\n    this.add(playCell);\n\n    return playCell;\n  }\n\n  allObjects() {\n    let allObjects = [];\n    return allObjects.concat(this.players, this.otherCells);\n  }\n\n  checkCollisions() {\n    const allObjects = this.allObjects();\n    for (var i = 0; i < allObjects.length; i++) {\n      for (var j = 0; j < allObjects.length; j++) {\n        let obj1 = allObjects[i];\n        let obj2 = allObjects[j];\n\n        if (obj1.isCollideWith(obj2) && obj1!==obj2) {\n          let collision = obj1.collideWith(obj2);\n          return;\n        }\n      }\n    }\n  }\n\n  draw(ctx) {\n\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    this.allObjects().forEach(object => {\n      object.draw(ctx);\n    });\n  }\n\n  isOutOfBounds(pos) {\n    if (pos[0]<0 || pos[0] > Game.DIM_X) {\n      return true;\n    } else if (pos[1]<0 || pos[1] > Game.DIM_Y) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  moveObjects(delta) {\n    this.allObjects().forEach(object => {\n      object.move(delta);\n    });\n  }\n\n  remove(object) {\n    if (object instanceof OtherCell) {\n      this.otherCells.splice(this.otherCells.indexOf(object), 1);\n    } else if (object instanceof PlayCell) {\n      this.players.splice(this.players.indexOf(object), 1);\n    } else {\n      throw \"object type not recognised\";\n    }\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCollisions();\n  }\n\n  randomPosition() {\n    return [\n      Game.DIM_X * Math.random(),\n      Game.DIM_Y * Math.random()\n    ];\n  }\n}\n\nGame.BG_COLOR = \"#d3d3d3\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 1000;\nGame.NUM_CELLS = 10;\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","const Util = {\n  scale(vec, l) {\n    return [vec[0] * l, vec[1] * l];\n  },\n\n  velocity(radius, min, org) {\n    if (min) {\n      let disX = min.pos[0] - org.pos[0];\n      let disY = min.pos[1] - min.pos[1];\n      var degree = Math.atan(disY/disX);\n    } else {\n      var degree = 2 * Math.PI * Math.random();\n    }\n    return this.scale([Math.sin(degree), Math.cos(degree)], (100/radius));\n  },\n\n  distance(pos1, pos2) {\n    let disX = pos1[0] - pos2[0];\n    let disY = pos1[1] - pos2[1];\n\n    return Math.pow((Math.pow(disX, 2) + Math.pow(disY, 2)), 0.5);\n  }\n};\n\nexport default Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/util.js\n **/","import Util from './util';\nimport Cell from './cell';\nimport PlayCell from './play_cell';\n\nclass OtherCell extends Cell {\n  constructor(options = {}) {\n    options.pos = options.game.randomPosition();\n    options.radius = Math.floor(Math.random() * 50);\n    options.vel = Util.velocity(options.radius);\n    super(options);\n  }\n\n  move(timeDelta) {\n    let nearest;\n    let min = 500;\n    for (var i = 0; i < this.game.allObjects().length; i++) {\n      if (this.game.allObjects()[i] !== this) {\n        if (Util.distance(this.game.allObjects()[i].pos, this.pos) < min) {\n          min = Util.distance(this.game.allObjects()[i].pos, this.pos);\n          nearest = this.game.allObjects()[i];\n        }\n      }\n    }\n    let first;\n    let second;\n    if (nearest) {\n      if (this.pos[0] < nearest.pos[0]) {\n        first = 1 * Math.PI;\n      } else {\n        first = -1 * Math.PI;\n      }\n\n      if (this.pos[1] < nearest.pos[1]) {\n        second = 1 * Math.PI;\n      } else {\n        second = -1 * Math.PI;\n      }\n\n      if (nearest.radius < this.radius) {\n        this.vel = Util.scale([first, second], (5/this.radius));\n      } else {\n        this.vel = Util.scale([first * -1, second * -1], (5/this.radius));\n      }\n    }\n\n\n    let scale =\n      timeDelta / 30,\n      offsetX = this.vel[0] * scale,\n      offsetY = this.vel[1] * scale;\n\n\n    if (this.game.isOutOfBounds(this.pos)) {\n      this.vel[0] = -1 * this.vel[0];\n      this.vel[1] = -1 * this.vel[1];\n      offsetX = this.vel[0] * scale;\n      offsetY = this.vel[1] * scale;\n      this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    }\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n  }\n\n\n}\n\nexport default OtherCell;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/other_cell.js\n **/","import Util from './util';\nimport OtherCell from './other_cell';\n// import PlayCell from './play_cell';\n\nclass Cell {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.game = options.game;\n    this.color = options.color || randomColor();\n  }\n\n  collideWith(otherObject) {\n    if (this.radius < otherObject.radius) {\n      otherObject.radius += this.radius;\n      this.remove();\n\n      let neighbor;\n      let min = 500;\n      for (var i = 0; i < this.game.allObjects().length; i++) {\n        if (Util.distance(this.game.allObjects()[i], otherObject) < min) {\n          min = Util.distance(this.game.allObjects()[i], otherObject);\n          neighbor = this.game.allObjects()[i];\n        }\n      }\n      if (otherObject instanceof OtherCell) {\n        otherObject.vel = Util.velocity(this.radius, neighbor, this);\n      }\n    } else {\n      this.radius += otherObject.radius;\n      otherObject.remove();\n      // let neighbor;\n      // let min = 500;\n      // for (var i = 0; i < this.game.allObjects().length; i++) {\n      //   if (Util.distance())\n      //   this.game.allObjects()[i]\n      // }\n\n    }\n    return true;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n\n    ctx.fill();\n    if (this.constructor.name === \"PlayCell\") {\n      ctx.fillStyle = \"RED\";\n      ctx.fillText(\"ME\", this.pos[0]-6, this.pos[1]+3);\n    }\n  }\n\n  isCollideWith(otherObject) {\n    if (this === otherObject) {\n      return false;\n    }\n    const centerDistance = Util.distance(this.pos, otherObject.pos);\n    if (centerDistance < (this.radius + otherObject.radius)) {\n      return true;\n    } else {\n      return false;\n    }\n\n  }\n\n  move(timeDelta) {\n\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nconst randomColor = () => {\n  const hex = \"0123456789ABCDEF\";\n\n  let color = \"#\";\n  for (var i = 0; i < 6; i++) {\n    color += hex[Math.floor(Math.random()*16)];\n  }\n\n  return color;\n};\n\n\nexport default Cell;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/cell.js\n **/","import Cell from './cell';\nimport Util from './util';\n\nclass PlayCell extends Cell {\n  constructor(options) {\n    if (!options.radius) {\n      options.radius = 15;\n    }\n    options.vel = [0, 0];\n    super(options);\n    this.maxL = 100/options.radius;\n  }\n\n  power(impulse) {\n    let first = impulse[0]*Math.PI;\n    let second = impulse[1]*Math.PI;\n    this.vel = Util.scale([first, second], (5/this.radius));\n  }\n\n  move(timeDelta) {\n    let scale = timeDelta / 30;\n    let offsetX = this.vel[0] * scale;\n    let offsetY = this.vel[1] * scale;\n    let newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    if (!this.game.isOutOfBounds(newPos)) {\n      this.pos = newPos;\n    }\n\n  }\n\n  divide(ctx) {\n    this.radius = this.radius/2;\n    let pos = [(this.pos[0]- 5* this.radius), (this.pos[1] - 5 * this.radius)];\n    console.log(this.pos);\n    console.log(pos);\n    let sibling = new PlayCell({radius: this.radius, pos: pos, color: \"black\", game: this.game});\n    this.game.add(sibling);\n\n  }\n}\nexport default PlayCell;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/play_cell.js\n **/","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.playCell = this.game.addPlayCell();\n  }\n\n  animate(time) {\n    const timeDelta = time - this.prev;\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.prev = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.prev = 0;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  bindKeyHandlers() {\n    const playCell = this.playCell;\n\n    Object.keys(GameView.MOVES).forEach(k => {\n      let move = GameView.MOVES[k];\n      key(k, () => {\n        playCell.power(move);\n      });\n    });\n\n    key(\"e\", () => {\n      playCell.divide(this.ctx);\n    });\n  }\n\n}\n\nGameView.MOVES = {\n  \"w\": [0, -1],\n  \"a\": [-1, 0],\n  \"s\": [0, 1],\n  \"d\": [1, 0]\n};\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game_view.js\n **/"],"sourceRoot":""}